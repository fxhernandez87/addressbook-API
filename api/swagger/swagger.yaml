---
  swagger: "2.0"
  info: 
    version: "0.0.3"
    title: "STRV Addressbook Api"
  host: "PANCHO"
  basePath: "/api"
  schemes: 
    - "http"
  tags: 
    - 
      name: "users"
      description: "Users operations"
    - 
      name: "contacts"
      description: "Contacts operations"
  consumes: 
    - "application/json"
  produces: 
    - "application/json"
  paths: 
    /users/signup: 
      x-swagger-router-controller: "features/users/controllers/users"
      post: 
        description: "Register a user to manage cantacts"
        summary: "Register a user to manage cantacts"
        consumes: 
          - "application/json"
        operationId: "registerUser"
        tags: 
          - "users"
        parameters: 
          - 
            name: "user"
            in: "body"
            description: "User to be registered"
            required: true
            schema: 
              required: 
                - "email"
                - "password"
              properties: 
                email: 
                  type: "string"
                password: 
                  type: "string"
                name: 
                  type: "string"
        responses: 
          200: 
            description: "Success"
            schema: 
              required: 
                - "data"
              properties: 
                data: 
                  $ref: "#/definitions/User"
          400: 
            description: "Bad request"
            schema: 
              $ref: "#/definitions/ErrorResponse"
    /users/login: 
      x-swagger-router-controller: "features/users/controllers/users"
      post: 
        operationId: "loginUser"
        tags: 
          - "users"
        description: "Get the token of the logged in user"
        parameters: 
          - 
            name: "user"
            in: "body"
            description: "User to be logged in"
            required: true
            schema: 
              required: 
                - "email"
                - "password"
              properties: 
                email: 
                  type: "string"
                password: 
                  type: "string"
                name: 
                  type: "string"
        responses: 
          200: 
            description: "Success"
            schema: 
              required: 
                - "data"
              properties: 
                data: 
                  $ref: "#/definitions/User"
          400: 
            description: "Bad request"
            schema: 
              $ref: "#/definitions/ErrorResponse"
          401: 
            description: "Unauthorized"
            schema: 
              $ref: "#/definitions/ErrorResponse"
          404: 
            description: "Item not found"
            schema: 
              $ref: "#/definitions/ErrorResponse"
    /users/contacts: 
      x-swagger-router-controller: "features/users/controllers/contacts"
      post: 
        security: 
          - 
            jwtAuth: []
        description: "add a new contact"
        summary: "add a new contact for the logged in user"
        consumes: 
          - "application/json"
        operationId: "addContact"
        tags: 
          - "contacts"
        parameters: 
          - 
            name: "contact"
            in: "body"
            description: "Contact to be added"
            required: true
            schema: 
              required: 
                - "email"
                - "surName"
                - "name"
              properties: 
                email: 
                  type: "string"
                surName: 
                  type: "string"
                name: 
                  type: "string"
        responses: 
          200: 
            description: "Success"
            schema: 
              required: 
                - "data"
              properties: 
                data: 
                  $ref: "#/definitions/Contact"
          400: 
            description: "Bad request"
            schema: 
              $ref: "#/definitions/ErrorResponse"
          401: 
            description: "Unauthorized"
            schema: 
              $ref: "#/definitions/ErrorResponse"
          403: 
            description: "Forbidden"
            schema: 
              $ref: "#/definitions/ErrorResponse"
    /swagger: 
      x-swagger-pipe: "swagger_raw"
  definitions: 
    Error: 
      properties: 
        message: 
          type: "string"
    ErrorResponse: 
      properties: 
        error: 
          $ref: "#/definitions/Error"
    User: 
      properties: 
        _id: 
          type: "string"
        email: 
          type: "string"
        password: 
          type: "string"
        name: 
          type: "string"
    Contact: 
      properties: 
        _id: 
          type: "string"
        email: 
          type: "string"
        surName: 
          type: "string"
        name: 
          type: "string"
  securityDefinitions: 
    jwtAuth: 
      type: "apiKey"
      name: "Authorization"
      in: "header"
